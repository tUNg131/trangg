[{"/Users/lexuantung/Documents/projects/trangg/src/index.js":"1","/Users/lexuantung/Documents/projects/trangg/src/reportWebVitals.js":"2","/Users/lexuantung/Documents/projects/trangg/src/App.js":"3","/Users/lexuantung/Documents/projects/trangg/src/components/img.js":"4","/Users/lexuantung/Documents/projects/trangg/src/components/popup.js":"5","/Users/lexuantung/Documents/projects/trangg/src/components/btn.js":"6"},{"size":500,"mtime":1608836074860,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":1608836074861,"results":"9","hashOfConfig":"8"},{"size":3483,"mtime":1609256472318,"results":"10","hashOfConfig":"8"},{"size":1639,"mtime":1609203552307,"results":"11","hashOfConfig":"8"},{"size":712,"mtime":1609113996912,"results":"12","hashOfConfig":"8"},{"size":946,"mtime":1609114383231,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1ifztt5",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/Users/lexuantung/Documents/projects/trangg/src/index.js",[],["29","30"],"/Users/lexuantung/Documents/projects/trangg/src/reportWebVitals.js",[],"/Users/lexuantung/Documents/projects/trangg/src/App.js",["31"],"import React from 'react';\nimport PopUp from './components/popup';\nimport { Button, PopUpButton } from './components/btn';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\nimport './App.css';\nimport './components/img.css';\nimport './components/animation.css';\n\nimport heart from './static/heart-icon1.png';\nimport axios from 'axios';\n\nfunction getRandomInt(max) {\n  const sign = (Math.random() > 0.5) ? -1 : 1;\n  return Math.floor(Math.random() * Math.floor(max)) * sign;\n}\n\nasync function getNewCachedImgSrc() {\n  try {\n    axios.defaults.headers.common['x-api-key'] = \"b3921cad-6daf-47e5-b6b9-6d6f8d241d59\"\n\n    let response = await axios.get('https://api.thecatapi.com/v1/images/search', { params: { limit:5, size:\"full\" } })\n\n    console.log(response.data)\n    const srcList = response.data.map((image) => {\n      new Image().src = image.url\n      return {src: image.url, id: image.id}\n    });\n    return srcList\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      srcList: [],\n      angle: getRandomInt(15),\n      showPopUp: false,\n      buttonEnabled: true\n    }\n    this.togglePopUp = this.togglePopUp.bind(this);\n    this.newImage = this.newImage.bind(this);\n  }\n\n  togglePopUp() {\n    this.setState({\n      showPopUp: !this.state.showPopUp\n    });\n  }\n\n  newImage() {\n    this.setState({buttonEnabled: false}, // disable button before doing anything else\n      () => {\n        var modifiedList = [...this.state.srcList];\n        modifiedList.shift();\n        this.setState({srcList: modifiedList, angle: getRandomInt(15)}, \n          () => {this.setState({buttonEnabled: true}); // enable the button again\n        });\n      });\n  }\n\n  async fillSrcList() {\n    const lowerLimit = 5;\n    const {srcList} = this.state;\n    if(srcList.length < lowerLimit) {\n      this.setState({srcList: [...srcList, ...await getNewCachedImgSrc()]}, console.log(this.state.srcList))\n      this.fillSrcList();\n    }\n  }\n\n  componentDidMount() {\n    this.fillSrcList();\n  }\n\n  componentDidUpdate() {\n    this.fillSrcList();\n  }\n\n  render(){\n      const {srcList, showPopUp, angle, buttonEnabled} = this.state;\n      var hasImage = true;\n      if (srcList === undefined || srcList.length === 0) {\n        hasImage = false;\n        console.log(hasImage)\n      }\n      return(\n        <div className=\"App\">\n          { (hasImage) ?\n            <TransitionGroup className=\"image-container\">\n              <CSSTransition\n                key={`image-${srcList[0].id}`} // to trigger transition everytime it updates\n                timeout={700}\n                classNames=\"image\"\n                unmountOnExit\n              >\n                <img \n                  className=\"image\" \n                  src={srcList[0].src} \n                  alt=\"cute cat\" \n                  style={{transform: `translate(-50%, -50%) rotate(${angle}deg)`}}\n                  onClick={(buttonEnabled) ? this.newImage: null} \n                />\n              </CSSTransition>\n            </TransitionGroup> : null\n          }\n          <PopUp show={showPopUp}>\n            <h1>This is the PopUp!</h1>\n            <Button addClass=\"close-pop-up hoverable\" onClick={this.togglePopUp}>\n              <img src={heart} style={{width: \"50px\"}} />\n            </Button>\n          </PopUp>\n          <PopUpButton in={!showPopUp} onClick={this.togglePopUp} />\n        </div>\n      )\n  }\n}\n\nexport default App;","/Users/lexuantung/Documents/projects/trangg/src/components/img.js",[],"/Users/lexuantung/Documents/projects/trangg/src/components/popup.js",[],"/Users/lexuantung/Documents/projects/trangg/src/components/btn.js",[],["32","33"],{"ruleId":"34","replacedBy":"35"},{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","severity":1,"message":"39","line":112,"column":15,"nodeType":"40","endLine":112,"endColumn":58},{"ruleId":"34","replacedBy":"41"},{"ruleId":"36","replacedBy":"42"},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["43"],["44"],"no-global-assign","no-unsafe-negation"]